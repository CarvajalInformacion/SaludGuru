<div class="MPHeaderMainWrapper">

    <div class="MPHeaderTopWrapper">
        <div></div>
        <div class="MPRightTopMenu">
            <span class="MPHeadertopMenuLeftEnd"></span>
            <div><a href="@MarketPlace.Models.General.InternalSettings.Instance[MarketPlace.Models.General.Constants.C_Settings_UrlBackOffice].Value">Soy doctor</a></div>
            <div>Ciudad:</div>
            <select>
                @{
                    var oBaseController = ViewContext.Controller as MarketPlace.Web.Controllers.BaseController;

                    foreach (KeyValuePair<int, string> item in MarketPlace.Web.Controllers.BaseController.EnabledCities)
                    {
                        if (item.Key == oBaseController.CurrentCookie.CurrentCity)
                        {
                            <option value="@item.Key" selected="selected">@item.Value</option>
                        }
                        else
                        {
                            <option value="@item.Key">@item.Value</option>
                        }
                    }
                }
            </select>
            <div>@*Notificaciones*@</div>
            @if (MarketPlace.Models.General.SessionModel.UserIsLoggedIn)
            {
                <!--Render user login options-->
                <div onclick="javascript: Header_ShowHideUserMenu('divUserMenu');">
                    <label>Que bueno verte! @(MarketPlace.Models.General.SessionModel.CurrentLoginUser.Name)</label>
                    <img src="@MarketPlace.Models.General.SessionModel.CurrentLoginUser.ExtraData.Where(x => x.InfoType == SessionController.Models.Auth.enumUserInfoType.ImageProfile).Select(x => x.Value).DefaultIfEmpty(string.Empty).FirstOrDefault()" />
                </div>
                <!--pop up user option menu-->
                <div id="divUserMenu" style="display:none;">
                    <ul>
                        @*<li>
                                <a href="@Url.Action(MVC.UserProfile.ActionNames.Index,MVC.UserProfile.Name)">Mis datos</a>
                            </li>
                            <li>
                                <a href="@Url.Action(MVC.UserProfile.ActionNames.FamilyGroup, MVC.UserProfile.Name)">Mi grupo familiar</a>
                            </li>
                            <li>
                                <a href="@Url.Action(MVC.UserProfile.ActionNames.ProfileList, MVC.UserProfile.Name)">Mis especialistas</a>
                            </li>
                            <li>
                                <a href="@Url.Action(MVC.UserProfile.ActionNames.Treatment, MVC.UserProfile.Name)">Mis tratamientos</a>
                            </li>
                            <li>
                                <a href="@Url.Action(MVC.UserProfile.ActionNames.Notification, MVC.UserProfile.Name)">Mis notificaciones</a>
                            </li>*@
                        <li>
                            <a href="@Url.Action(MVC.Home.ActionNames.LogOutUser, MVC.Home.Name)">Cerrar sesión</a>
                        </li>
                    </ul>
                </div>
            }
            else
            {
                //get login urls
                string RetUrl = Request.Url.ToString();
                string FBUrl = MarketPlace.Models.General.InternalSettings.Instance
                    [MarketPlace.Models.General.Constants.C_Settings_Login_FBUrl.Replace("{{AreaName}}", MarketPlace.Web.Controllers.BaseController.AreaName)]
                    .Value.Replace("{{UrlRetorno}}", RetUrl);

                string GoogleUrl = MarketPlace.Models.General.InternalSettings.Instance
                    [MarketPlace.Models.General.Constants.C_Settings_Login_GoogleUrl.Replace("{{AreaName}}", MarketPlace.Web.Controllers.BaseController.AreaName)]
                    .Value.Replace("{{UrlRetorno}}", RetUrl);

                string OutlookUrl = string.Empty;

                <!--Render autentications-->
                <span>Ingresar con:</span>
                <a class="MPGoogleLogIn" href="@GoogleUrl"></a>
                <a class="MPFacebookLogIn" href="@FBUrl"></a>
                <a href="javascript:Header_ShowHideLoginMenu('ulLoginMoreOptions');">Más</a>
                <ul id="ulLoginMoreOptions" style="display:none;">
                    <li><a href="@GoogleUrl">Google</a></li>
                    <li><a href="@FBUrl">Facebook</a></li>
                    <li><a href="@OutlookUrl">Outlook</a></li>
                </ul>
            }
        </div>
    </div>
    <div class="MPHeaderSearchWrapper">
        <!--image guru-->
        <a class="MPSGlogo" href="@Url.RouteUrl(MarketPlace.Models.General.Constants.C_Route_Home, null)"></a>

        <!--search box-->
        @if (MarketPlace.Web.Controllers.BaseController.CurrentControllerName == MVC.Home.Name &&
            MarketPlace.Web.Controllers.BaseController.CurrentActionName == MVC.Home.ActionNames.Index) { }
        else
        {
            <span>Busca un especialista por nombre, especialidad o seguro completamente gratis</span>
            <div>
                <input type="text" id="inSearchBoxProfile" placeholder="Buscar por nombre, especialidad o seguro" />
                <a href="javascript:SearchBoxObject.SearchTerm();"></a>
            </div>
        }
    </div>
</div>