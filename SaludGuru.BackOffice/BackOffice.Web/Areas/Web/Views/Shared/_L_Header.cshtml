@model BackOffice.Models.General.HeaderModel
<div class="headerMainWrapper">
    <div class="headerTopWrapper">
        <!--render autorized profiles-->
        <div class="profilesListWrapper">
            @{
                string SelDrShowName = string.Empty, selDoctorImageUrl = string.Empty;
                <select id="ddAutorizationProfiles">

                @foreach (SessionController.Models.Profile.Autorization.AutorizationModel ua in BackOffice.Models.General.SessionModel.UserAutorization)
                {
                        //get doctor name
                        string DrShowName = string.Empty;
                    if (!string.IsNullOrEmpty(ua.ProfileName))
                    {
                            DrShowName = ua.ProfileGender != null && !ua.ProfileGender.Value ? "Dra. " : "Dr. " + ua.ProfileName + " " + ua.ProfileLastName;
                    }
                        if (!string.IsNullOrEmpty(DrShowName))
                        {
                            DrShowName += " - ";
                        }
                        DrShowName += ua.RoleName;

                        //get doctor image url
                        string DoctorImageUrl = ua.ProfileImage;
                        if (string.IsNullOrEmpty(DoctorImageUrl))
                        {
                            DoctorImageUrl = "https://lh6.googleusercontent.com/-8MajLkkygS0/AAAAAAAAAAI/AAAAAAAAADM/FBzd750qjbg/photo.jpg";
                        }

                        string strSelected = string.Empty;
                    if (ua.Selected)
                    {
                            SelDrShowName = DrShowName;
                            selDoctorImageUrl = DoctorImageUrl;
                            strSelected = "selected='selected'";
                    }
                        <option @strSelected value="@Url.Action(MVC.Home.ActionNames.ChangeAutorizationProfile, MVC.Home.Name, new { ProfilePublicId = ua.ProfilePublicId })" data-style="background-image: url(&apos;@(DoctorImageUrl)&apos;);">
                            @DrShowName
                        </option>
                    }
            </select>
                <div id="templateAutorization" style="display:none;">
                    <div id="SelAutorization">
                        <span class="selectedProfilePicture" style="background-image: url('@(selDoctorImageUrl)');"></span>
                        <span class="selectedProfileName">@SelDrShowName hola</span>
                    </div>
                </div>

            }
        </div>
        <!--render search box-->
        <div class="searchBox">
            <input type="text" />
        </div>

        <div class="userNotificationWrapper">

            <!--render notifications-->
            <div class="notificationsWrapper">
                <a href="">14</a>
            </div>

            <!--render user options-->
            <div class="userOptionsWrapper">
                <div onclick="javascript: Header_ShowHideUserMenu('divUserMenu');">
                    @*<div class="arrowDownUserOptions"></div>*@
                    <label>@(BackOffice.Models.General.SessionModel.CurrentLoginUser.Name + " " + @BackOffice.Models.General.SessionModel.CurrentLoginUser.LastName)</label>
                    <img src="@BackOffice.Models.General.SessionModel.CurrentLoginUser.ExtraData.Where(x=>x.InfoType == SessionController.Models.Auth.enumUserInfoType.ImageProfile).Select(x=>x.Value).DefaultIfEmpty(string.Empty).FirstOrDefault()" />
                </div>
                <!--pop up user option menu-->
                <div id="divUserMenu" style="display:none;">
                    <ul>
                        <li>
                            <a href="">Opciones de Cuenta</a>
                        </li>
                        <li>
                            <a href="">Configuracio'n</a>
                        </li>
                        <li>
                            <a href="@Url.Action(MVC.Home.ActionNames.LogOutUser, MVC.Home.Name)">Cerrar sesión</a>
                        </li>
                    </ul>
                </div>
            </div>

        </div>

    </div>
    <!--menu-->
    <div class="mainMenuWrapper">
        @Html.Partial(MVC.Web.Shared.Views._L_PrincipalMenu, Model.Menu)
    </div>
</div>
