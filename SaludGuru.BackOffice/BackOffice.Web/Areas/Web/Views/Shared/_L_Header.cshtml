@model BackOffice.Models.General.HeaderModel
<div class="headerMainWrapper">
    <div class="headerTopWrapper">
        <!--render autorized profiles-->
        <div class="profilesListWrapper">
            <select onchange="javascript: Header_ChangeProfile(this);">
                @foreach (SessionController.Models.Profile.Autorization.AutorizationModel ua in BackOffice.Models.General.SessionModel.UserAutorization)
                {
                    string DoctorName = string.Empty;
                    if (!string.IsNullOrEmpty(ua.ProfileName))
                    {
                        DoctorName = ua.ProfileGender != null && !ua.ProfileGender.Value ? "Dra. " : "Dr. " + ua.ProfileName + " " + ua.ProfileLastName;
                    }
                    if (ua.Selected)
                    {
                        <option value="@Url.Action(MVC.Home.ActionNames.ChangeAutorizationProfile, MVC.Home.Name, new { ProfilePublicId = ua.ProfilePublicId })" selected="selected">
                            <img src="@ua.ProfileImage" />
                            <label>@DoctorName</label>
                            <label>@ua.RoleName</label>
                        </option>
                    }
                    else
                    {
                        <option value="@Url.Action(MVC.Home.ActionNames.ChangeAutorizationProfile, MVC.Home.Name, new { ProfilePublicId = ua.ProfilePublicId })">
                            <img src="@ua.ProfileImage" />
                            <label>@DoctorName</label>
                            <label>@ua.RoleName</label>
                        </option>
                    }
                }
            </select>
        </div>
        <!--render search box-->
        <div class="searchBox">
            <input type="text" />
        </div>

        <div class="userNotificationWrapper">

            <!--render notifications-->
            <div class="notificationsWrapper">
                <a href="">14</a>
            </div>

            <!--render user options-->
            <div class="userOptionsWrapper">
                <div onclick="javascript: Header_ShowHideUserMenu('divUserMenu');">
                    <div class="arrowDownUserOptions"></div>
                    <label>@(BackOffice.Models.General.SessionModel.CurrentLoginUser.Name + " " + @BackOffice.Models.General.SessionModel.CurrentLoginUser.LastName)</label>
                    <img src="@BackOffice.Models.General.SessionModel.CurrentLoginUser.ExtraData.Where(x=>x.InfoType == SessionController.Models.Auth.enumUserInfoType.ImageProfile).Select(x=>x.Value).DefaultIfEmpty(string.Empty).FirstOrDefault()" />
                </div>
                <!--pop up user option menu-->
                <div id="divUserMenu" style="display:none;">
                    <ul>
                        <li>
                            <a href="">Opciones de Cuenta</a>
                        </li>
                        <li>
                            <a href="">Configuracio'n</a>
                        </li>
                        <li>
                            <a href="@Url.Action(MVC.Home.ActionNames.LogOutUser, MVC.Home.Name)">Cerrar sesión</a>
                        </li>
                    </ul>
                </div>
            </div>

        </div>

    </div>
    <!--menu-->
    <div class="mainMenuWrapper">
        @Html.Partial(MVC.Web.Shared.Views._L_PrincipalMenu, Model.Menu)
    </div>
</div>
