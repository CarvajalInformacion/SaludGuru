@model BackOffice.Models.Appointment.SchedulingModel

@if (!Model.RenderScripts)
{
    <!--double calendar-->
    <div class="BOAgendaSideMonthsWrapper">
        <div id="Calendar-Left"></div>
        <div id="Calendar-Right"></div>
    </div>
    <!--Appointment actions-->
    <div class="BOAgendaAppointmentActions">
        <ul>
            <li class="BOActionCreate">
                <a href="">Crear nueva cita</a>
            </li>
            <li class="BOActionCancel">
                <a href="">Citas canceladas</a>
            </li>
            <li class="BOActionBlock">
                <a href="">Bloquear horario</a>
            </li>
        </ul>
    </div>
}
else
{
    <script type="text/javascript">
        $(document).ready(function () {
            //render calendar by month
            MettingCalendarObject.Init({
                DivId: 'Calendar',
                CountryId: '@(Model.CurrentProfile.RelatedOffice== null ? 1 : Model.CurrentProfile.RelatedOffice.Select(x=>x.City.CountryId).DefaultIfEmpty(1).FirstOrDefault())',
                ProfilePublicId: '@Model.CurrentProfile.ProfilePublicId',
                StartDate: new Date('@(Model.CurrentStartDate.Year.ToString())', '@((Model.CurrentStartDate.Month - 1).ToString())', '@(Model.CurrentStartDate.Day)'),
                EndDate: new Date('@(Model.CurrentEndDate.Year.ToString())', '@((Model.CurrentEndDate.Month - 1).ToString())', '@(Model.CurrentEndDate.Day)'),
                FirstDate: new Date('@(Model.CurrentStartDate.Year.ToString())', '@((Model.CurrentStartDate.Month - 1).ToString())', '1'),
                SecondDate: new Date('@(Model.CurrentStartDate.AddMonths(1).Year.ToString())', '@((Model.CurrentStartDate.AddMonths(1).Month - 1).ToString())', '1'),
            });
            MettingCalendarObject.RenderAsync();
        });
    </script>
}



