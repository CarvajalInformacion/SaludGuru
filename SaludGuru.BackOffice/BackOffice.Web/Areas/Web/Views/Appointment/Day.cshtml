@model BackOffice.Models.Appointment.SchedulingModel
@{
    ViewBag.Title = "SaludGuru - agenda día";
    Layout = "~/Areas/Web/Views/Shared/_Layout.cshtml";

    Model.RenderScripts = false;
}

<div class="BOAgendaModuleGreatWrapper">
    <div class="BOAgendaCalendarWrapper">
        <!--Calendar by month-->
        @Html.Partial(MVC.Web.Shared.Views._AP_Calendar, Model)

        <!--create edit appointment-->
        <div id="AppointmentUpsert" style="display:none;">
            <form action="/api/AppointmentApi?UpsertAction=true" method="post" id="frmAppointment" name="frmAppointment">
                <ul>
                    <li>
                        <span>Datos de la Nueva Cita</span><span>(Cita Pendiete por Asistencia)</span>
                    </li>
                    @*<li><h4>Datos de la Cita</h4></li>*@
                    <li>
                        <label>Consultorio:</label>
                        <select id="OfficePublicId" name="OfficePublicId"></select>
                    </li>
                    <li>
                        <label>Tipo de tratamiento:</label>
                        <select id="TreatmentId" name="TreatmentId"></select>
                        <input type="hidden" id="CatId_TreatmentId" name="CatId_TreatmentId" />
                    </li>
                    <li>
                        <label>Fecha de inicio:</label>
                        <input type="text" id="StartDate" name="StartDate" />
                    </li>
                    <li>
                        <label>Hora de inicio:</label>
                        <input type="text" id="StartTime" name="StartTime" />
                    </li>
                    <li>
                        <label>Duración:</label>
                        <input type="text" id="Duration" name="Duration" />
                    </li>
                    <li>
                        <label>Asignar paciente(s):</label>
                        <input type="text" id="getPatient" name="getPatient" />
                    </li>
                    <li>
                        <h4>Paciente(s) asignados a la cita:</h4>
                    </li>
                    <li>
                        <ul id="lstPatient"></ul>
                    </li>
                </ul>
                <!--hidden fields-->
                <div style="display:none;">
                    <input type="hidden" id="AppointmentPublicId" name="AppointmentPublicId" />
                    <input type="hidden" id="PatientAppointmentCreate" name="PatientAppointmentCreate" />
                    <input type="hidden" id="PatientAppointmentDelete" name="PatientAppointmentDelete" />
                    <input type="hidden" id="AfterCare" name="AfterCare" />
                    <input type="hidden" id="CatId_AfterCare" name="CatId_AfterCare" />
                    <input type="hidden" id="BeforeCare" name="BeforeCare" />
                    <input type="hidden" id="CatId_BeforeCare" name="CatId_BeforeCare" />
                </div>
            </form>

        </div>

        <div id="AppointmentUpsertActions" class="BOAgendaCalendarAppointmentCommands" style="display:none;">
            <span class="AppointmentActionsCancel">
                <a href="javascript:MeetingObject.SaveAppointment()">Cancelar</a>
            </span>
            <span class="AppointmentActionsConfirm">
                <a href="javascript:MeetingObject.SaveAppointment()">Confirmar</a>
            </span>
            <span class="AppointmentActionsAccept">
                <a href="javascript:MeetingObject.SaveAppointment()">Aceptar</a>
            </span>
            <span class="AppointmentActionsNew">
                <a href="javascript:MeetingObject.SaveAppointment()">Nueva Cita</a>
            </span>
        </div>
    </div>

    <!--Meeting Calendar-->
    @Html.Partial(MVC.Web.Shared.Views._AP_MeetingCalendar, Model)

    <!--templates-->
    <div id="templates" style="display:none;">
        <!--patient autocomplete-->
        <div id="divPatientAcItem">
            <div class="autocompletePatients">
                <img src="{ProfileImage}" />
                <label>
                    {Name}<br />
                    Ident: {IdentificationNumber}<br />
                    Cel: {Mobile}
                </label>
            </div>
        </div>

        <!--patient appointment-->
        <ul id="ulPatientAppointment">
            <li id="{PatientPublicId}">
                <img src="{ProfileImage}" />
                <label>{Name}</label>
                <label>Ident: {IdentificationNumber}</label>
                <label>Cel: {Mobile}</label>
                <label>Email: {Email}</label>
                <a href="@(Url.Action(MVC.Patient.ActionNames.PatientUpsert, MVC.Patient.Name) + "?PatientUpsert={PatientPublicId}")">Perfil paciente</a>
                <a href="javascript:MeetingObject.RemovePatientAppointment('{PatientPublicId}')">Eliminar</a>
            </li>
        </ul>
    </div>
</div>


@section inlinescripts
{
    @(Model.RenderScripts = true)
    @Html.Partial(MVC.Web.Shared.Views._AP_Calendar, Model)
    @Html.Partial(MVC.Web.Shared.Views._AP_MeetingCalendar, Model)

    <script type="text/javascript">
        $(document).ready(function () {

        });
    </script>
}


